scalar ObjectId
scalar Date
scalar File

type Query {
  hello: String
  user(UserInput: UserInput!): User!
  me: User!
  categories: [Category]
}

type Mutation {
  sendVerificationCode(
    SendVerificationCodeInput: SendVerificationCodeInput!
  ): Boolean
  confirmVerificationCode(
    ConfirmVerificationCodeInput: ConfirmVerificationCodeInput!
  ): String!
  createCategory(input: CreateCategoryInput!): Category!
}

input SendVerificationCodeInput {
  phoneNumber: String!
}

input ConfirmVerificationCodeInput {
  phoneNumber: String!
  verificationCode: String!
}

input UserInput {
  _id: ObjectId!
}

input CreateCategoryInput {
  name: String!
  parentId: ObjectId
}

enum Permission {
  ADMIN
  PRODUCT
  ACCOUNTING
}

type User {
  _id: ObjectId!
  name: String
  phoneNumber: String!
  balance: Float!
  permissions: [Permission!]
}

type VerificationCode {
  _id: ObjectId!
  phoneNumber: String!
  verificationCode: String!
}

type Category {
  _id: ObjectId!
  name: String!
  parentId: ObjectId
}

type ProductGroup {
  _id: ObjectId!
}

type Product {
  _id: ObjectId!
  productGroupId: ObjectId!
  name: String!
  price: Float!
  images: [Image]
  defaultImage: Image
  createdAt: Date
}

type Image {
  _id: ObjectId!
  path: String!
}
